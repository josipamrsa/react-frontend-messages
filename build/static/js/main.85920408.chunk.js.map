{"version":3,"sources":["components/Poruka.js","services/poruke.js","App.js","index.js"],"names":["Poruka","poruka","promjenaVaznosti","brisiPoruku","oznaka","vazno","className","sadrzaj","onClick","axios","get","noviObjekt","post","id","put","delete","App","props","useState","poruke","postaviPoruke","unosPoruke","postaviUnos","ispisSve","postaviIspis","useEffect","console","log","porukeServer","then","response","data","porukeZaIspis","filter","p","map","key","find","novaPoruka","promjenaVaznostiPoruke","onSubmit","e","preventDefault","datum","Date","toISOString","Math","random","concat","value","onChange","target","type","ReactDOM","render","document","getElementById"],"mappings":"wNAaeA,EAXA,SAAC,GAA6C,IAA5CC,EAA2C,EAA3CA,OAAQC,EAAmC,EAAnCA,iBAAkBC,EAAiB,EAAjBA,YACjCC,EAASH,EAAOI,MAAQ,+BAAuB,6BACrD,OACI,wBAAIC,UAAU,UACTL,EAAOM,QACR,4BAAQC,QAASN,GAAmBE,GACpC,4BAAQI,QAASL,GAAjB,gB,gBCqBG,EAxBI,WACf,OAAOM,IAAMC,IAJE,gBA2BJ,EApBA,SAAAC,GACX,OAAOF,IAAMG,KARE,cAQeD,IAmBnB,EAhBC,SAACE,EAAIF,GACjB,OAAOF,IAAMK,IAAN,UAZQ,cAYR,YAA2BD,GAAMF,IAe7B,EAZD,SAAAE,GACV,OAAOJ,IAAMM,OAAN,UAhBQ,cAgBR,YAA8BF,KCiF1BG,EA/FH,SAACC,GAAW,IAAD,EACaC,mBAAS,IADtB,mBACZC,EADY,KACJC,EADI,OAEeF,mBAAS,kBAFxB,mBAEZG,EAFY,KAEAC,EAFA,OAGcJ,oBAAS,GAHvB,mBAGZK,EAHY,KAGFC,EAHE,KAMnBC,qBAAU,WACNC,QAAQC,IAAI,eACZC,IAA0BC,MAAK,SAACC,GAExBJ,QAAQC,IAAI,uBACZP,EAAcU,EAASC,WAEhC,IAIH,IAAMC,EAAgBT,EAClBJ,EAASA,EAAOc,QAAO,SAAAC,GAAC,OAAgB,IAAZA,EAAE7B,SAkDlC,OACE,6BACE,sCACA,6BACI,4BAAQG,QAAU,kBAAMgB,GAAcD,KAAtC,gBACaA,EAAW,kBAAe,QAG3C,4BAEGS,EAAcG,KAAI,SAAAD,GAAC,OACnB,kBAAC,EAAD,CACKE,IAAKF,EAAErB,GACPZ,OAAQiC,EACRhC,iBAAkB,kBAtCC,SAACW,GAC5B,IAAMZ,EAASkB,EAAOkB,MAAK,SAAAH,GAAC,OAAIA,EAAErB,KAAOA,KAEnCyB,EAAU,2BACTrC,GADS,IAEZI,OAAQJ,EAAOI,QAGnBuB,EAAqBf,EAAIyB,GAAYT,MAAK,SAACC,GACnCJ,QAAQC,IAAIG,GACZV,EACID,EAAOgB,KAAI,SAAAD,GAAC,OAAIA,EAAErB,KAAOA,EAAKqB,EAAIJ,EAASC,YA2BvBQ,CAAuBL,EAAErB,KACjDV,YAAa,kBAvBDU,EAuBsBqB,EAAErB,QAtB5Ce,EAAmBf,GAAIgB,MAAK,SAACC,GACzBJ,QAAQC,IAAIG,GAEZV,EAAcD,EAAOc,QAAO,SAAAC,GAAC,OAAIA,EAAErB,KAAOA,SAJ3B,IAACA,SA2BpB,0BAAM2B,SAlES,SAACC,GAChBA,EAAEC,iBACF,IAAM/B,EAAa,CAEfJ,QAASc,EACTsB,OAAO,IAAIC,MAAOC,cAClBxC,MAAOyC,KAAKC,SAAW,IAG3BnB,EAAoBjB,GAAYkB,MAAK,SAACC,GAE9BJ,QAAQC,IAAIG,GACZV,EAAcD,EAAO6B,OAAOlB,EAASC,OACrCT,EAAY,SAsDhB,2BAAO2B,MAAO5B,EAAY6B,SAjDZ,SAACT,GACnBnB,EAAYmB,EAAEU,OAAOF,UAiDjB,4BAAQG,KAAK,UAAb,a,MC7EZC,IAASC,OAAO,kBAAC,EAAD,MAAQC,SAASC,eAAe,W","file":"static/js/main.85920408.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Poruka = ({poruka, promjenaVaznosti, brisiPoruku}) => {\r\n    const oznaka = poruka.vazno ? \"Označi kao nevažno\" : \"Označi kao važno\";\r\n    return (\r\n        <li className=\"poruka\">\r\n            {poruka.sadrzaj}\r\n            <button onClick={promjenaVaznosti}>{oznaka}</button>\r\n            <button onClick={brisiPoruku}>Briši</button>\r\n        </li>\r\n    );\r\n  }\r\n\r\nexport default Poruka;","import axios from 'axios';\r\n\r\nconst osnovniUrl = '/api/poruke';\r\n//const osnovniUrl = 'http://localhost:3001/api/poruke'; // relativna putanja!!\r\n\r\nconst dohvatiSve = () => {\r\n    return axios.get(osnovniUrl);\r\n};\r\n\r\nconst stvori = noviObjekt => {\r\n    return axios.post(osnovniUrl, noviObjekt);\r\n};\r\n\r\nconst osvjezi = (id, noviObjekt) => {\r\n    return axios.put(`${osnovniUrl}/${id}`, noviObjekt);\r\n};\r\n\r\nconst brisi = id => {\r\n    return axios.delete(`${osnovniUrl}/${id}`);\r\n};\r\n\r\n// imena pod kojima se exportaju funkcije\r\n/* export default {\r\n    dohvatiSve: dohvatiSve,\r\n    stvori: stvori,\r\n    osvjezi: osvjezi\r\n}; */\r\n\r\n// moze i ovako\r\nexport default { dohvatiSve, stvori, osvjezi, brisi };","import React, { useState, useEffect } from 'react';\r\nimport Poruka from './components/Poruka';\r\nimport porukeServer from './services/poruke';\r\n\r\nconst App = (props) => {\r\n    const [poruke, postaviPoruke] = useState([]);\r\n    const [unosPoruke, postaviUnos] = useState(\"Unesi poruku: \");\r\n    const [ispisSve, postaviIspis] = useState(true);\r\n\r\n    // učitavanje podataka sa servera\r\n    useEffect(() => {\r\n        console.log(\"Effect hook\");\r\n        porukeServer.dohvatiSve().then((response) =>\r\n            {\r\n                console.log(\"Podaci učitani\");\r\n                postaviPoruke(response.data);\r\n            });\r\n    }, []);\r\n\r\n    // ako ispisSve ima true vrijednost, ispisiva sve\r\n    // ako ima false, filtrira poruke po vaznosti\r\n    const porukeZaIspis = ispisSve ? \r\n        poruke : poruke.filter(p => p.vazno === true);\r\n\r\n    // prima event kad je onsubmit, onchange, itd.\r\n    const novaPoruka = (e) => {\r\n        e.preventDefault();\r\n        const noviObjekt = {\r\n            //id: poruke.length + 1, // duljina + 1 - funkcionalnost izvrsava server\r\n            sadrzaj: unosPoruke,\r\n            datum: new Date().toISOString(),\r\n            vazno: Math.random() > 0.5 // vraća true/false 50/50 puta\r\n        }\r\n\r\n        porukeServer.stvori(noviObjekt).then((response) => \r\n            {\r\n                console.log(response);\r\n                postaviPoruke(poruke.concat(response.data));\r\n                postaviUnos('');\r\n            });\r\n    };\r\n\r\n    // controlled component\r\n    const promjenaUnosa = (e) => {\r\n        postaviUnos(e.target.value);\r\n    }\r\n\r\n    // delegat - event handler za promjenu poruke\r\n    const promjenaVaznostiPoruke = (id) => {\r\n        const poruka = poruke.find(p => p.id === id);\r\n\r\n        const novaPoruka = {\r\n            ...poruka,\r\n            vazno: !poruka.vazno\r\n        };\r\n\r\n        porukeServer.osvjezi(id, novaPoruka).then((response) => {\r\n                console.log(response);      \r\n                postaviPoruke(\r\n                    poruke.map(p => p.id !== id ? p : response.data)\r\n                );     \r\n            });\r\n    }\r\n\r\n    const brisanjePoruke = (id) => {\r\n        porukeServer.brisi(id).then((response) => {\r\n            console.log(response);\r\n            // filtriranje poruka bez izbrisane\r\n            postaviPoruke(poruke.filter(p => p.id !== id));\r\n        });\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        <h1>Poruke</h1>\r\n        <div>\r\n            <button onClick={ () => postaviIspis(!ispisSve) }>\r\n                Prikaži {ispisSve ? \"samo važne\" : \"sve\"}\r\n            </button>\r\n        </div>\r\n        <ul>\r\n            {/* ne može se slati samo ime funkcije nego ovako */}\r\n          {porukeZaIspis.map(p => \r\n           <Poruka \r\n                key={p.id} \r\n                poruka={p} \r\n                promjenaVaznosti={() => promjenaVaznostiPoruke(p.id)}\r\n                brisiPoruku={() => brisanjePoruke(p.id)} /> \r\n            )\r\n           }\r\n        </ul>\r\n        <form onSubmit={novaPoruka}>\r\n            <input value={unosPoruke} onChange={promjenaUnosa} />\r\n            <button type=\"submit\">Spremi</button>   \r\n        </form>\r\n      </div>\r\n    )\r\n  };\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\n//const promise = axios.get(\"http://localhost:3001/poruke\");\r\n//console.log(promise);\r\n//promise.then((response) => { console.log(response.data); });\r\n\r\n// inače kako se piše po konvenciji\r\n/* axios\r\n  .get(\"http://localhost:3001/poruke\")\r\n  .then((response) => {\r\n    const poruke = response.data;\r\n}); */\r\n\r\nReactDOM.render(<App />,document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}